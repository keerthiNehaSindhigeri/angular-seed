<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eInvoice Request Occupancy Report</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/_style.css" />
    <link rel="stylesheet" href="../css/utility-classes.css" />
    <link rel="stylesheet" href="../css/buttons.css" />
    <link rel="stylesheet" href="../css/modal.css" />
    <link rel="stylesheet" href="../css/tables.css" />
</head>

<body>

    <!-- Invoice Exceptions Report -->
    <div id="exception-table" class="align-items-center m-40">
        <div class="mb-2">
            <h4>Invoice Exceptions</h4>
        </div>
        <table id="exceptionTable">
            <thead id="exceptionTableHead"></thead>
            <tbody id="exceptionTableBody"></tbody>
            <tfoot id="exceptionTableFoot"></tfoot>
        </table>
    </div>

    <!-- Modals -->
    <div id="invoice-exceptions-modal-report" class="modal">
        <div class="modal-content">

            <div class="modal-header">Invoice Exceptions</div>
            <div id="occupancy-section-container" class="ml-16 mt-12 mb-0"></div>

            <div class="modal-body" style="padding-top: 0;">
                <div class="d-flex align-items-end justify-content-between mb-4">
                    <h4 id="modal-title"></h4>
                    <button class="btn btn-primary" id="ai-audit-btn">AI Audit</button>
                </div>

                <table class="mb-16">
                    <thead>
                        <tr>
                            <th>Check-In</th>
                            <th>Check-Out</th>
                            <th>Name(s)</th>
                            <th>Expected ID(s)</th>
                            <th>Entered ID(s)</th>
                            <th>Billable No-Show</th>
                            <th>Modified Reservations</th>
                            <th>Walk-In</th>
                            <th>Day-Rooms</th>
                            <th>Non Contract Rate</th>
                            <th>Request...</th>
                            <th>View Details</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tbody id="modal-invoice-tbody"></tbody>
                </table>

                <h4 id="modal-comments-title"></h4>

                <table style="width: 50%;">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>User</th>
                            <th>Comment Type</th>
                            <th>Reference Date</th>
                            <th>Comments</th>
                            <th>Edit</th>
                            <th>Delete</th>
                        </tr>
                    </thead>
                    <tbody id="modal-comments-tbody"></tbody>
                </table>
            </div>
            <div class="modal-footer d-flex justify-content-center">
                <button class="btn btn-primary">Request Occupancy Report</button>
                <button class="btn btn-primary">Request Sign-in Sheet</button>
                <button class="btn btn-primary">Add Message</button>
                <button class="btn btn-primary close">Close</button>
            </div>
        </div>
    </div>
    <!-- processing audit -->
    <div id="audit-running" class="modal">
        <div class="modal-content" style="width: 50%;">
            <div class="modal-body d-flex flex-column justify-content-center align-items-center flex-wrap">
                <p>AI audit running...</p>
                <div id="modal-loader">
                    <img src="../assets/gifs/loader.gif" alt="Loading...">
                </div>
            </div>
            <div class="modal-footer d-flex justify-content-center mt-16">
                <button class="btn btn-primary close">Cancel</button>
            </div>
        </div>
    </div>

    <div id="ai-audit-result-table" class="modal">
        <div class="modal-content">
            <div>
                <div class="modal-header">AI Audit Results</div>
                <div class="mb-12 ml-16 mr-16">
                    <p id="ai-audit-summary"></p>
                </div>

                <div class="d-flex align-items-start align-content-start justify-content-evenly ml-12 mr-12 mb-12">
                    <div class="d-flex flex-wrap align-items-start justify-content-start">
                        <div class="pr-8"><img src="../assets/images/check_circle.png" width="20" height="20"></div>
                        <div id="ai-audit-resolved-count"></div>
                    </div>
                    <div class="d-flex flex-wrap align-items-start">
                        <div class="pr-8"><img src="../assets/images/warning.png" width="20" height="20"></div>
                        <div id="ai-audit-manual-review-count"></div>
                    </div>
                </div>

                <div class="flex-wrap ml-16 mr-16 mt-12 mb-12">
                    <table>
                        <thead class="m-10">
                            <tr>
                                <th>Exception</th>
                                <th>Name(s)</th>
                                <th>Expected ID(s)</th>
                                <th>Confidence Level</th>
                                <th>Analysis</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="ai-audit-rows"></tbody>
                    </table>
                </div>

                <div class="modal-footer d-flex justify-content-end align-items-end mt-12 mr-16 mb-16">
                    <button class="btn btn-primary close">Approve</button>
                </div>
            </div>
        </div>
    </div>


    <script src="../js/loader.js" defer></script>
    <script src="../js/helper.js" defer></script>
    <script src="../js/modal.js" defer></script>
    <script type="module" src="../exceptions/occupancy_report.js" defer></script>
</body>

</html>